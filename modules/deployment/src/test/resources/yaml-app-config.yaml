#%MULE 0.1

configuration-properties:
  - file: "my-app.properties"
  - file: "my-other-app.properties"

imports:
  - file: "my-other-file.yaml"
  - file: "lalala.yaml"

module-configurations:
  http:
    listener:
      myHttpListenerConfig:
        basePath: /
        host: 0.0.0.0
        port: ${http.port}
    requester:
      myHttpRequesterConfig:
        basePath: /
        host: www.mulesoft.com
        port: 80

flows:
  my-first-flow:
    flow-steps:
      - level: INFO
        message: Hi There

  my-second-flow:
    flow-steps:
      # HTTP Listener
      - path: myPathWhatever
        config-ref: myHttpListenerConfig
      # Logger
      - level: INFO
        message: Hi There
      # Set Payload
      - set-variable: hello
        variable-name: world
        value: world
      # Set Variable
      - set-variable: myVar
        variable-name: world
        value: myVarValue
      # Remove Variable
      - remove-variable: myVar
      # Set payload
      - set-payload: |
          {
           "value":"wadus"
          }
